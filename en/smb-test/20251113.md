[Please refer to "How to Test SMB"](https://chenxiaosong.com/en/smb-test.html).

# Patches to be tested

The following patches were applied to the mainline for testing:

  - Patches merged into the mainline from [[PATCH v3 00/22] smb: fix some bugs, move duplicate definitions to common header file](https://lore.kernel.org/all/20251014071917.3004573-1-chenxiaosong.chenxiaosong@linux.dev/):
    - d877470b5991 smb: move some duplicate definitions to common/cifsglob.h
    - 379510a815cb smb/server: fix possible refcount leak in smb2_sess_setup()
    - 6fced056d2cc smb/server: fix possible memory leak in smb2_read()
  - [[PATCH v2 0/6] smb/server: fix return values of smb2_0_server_cmds proc](https://lore.kernel.org/all/20251017104613.3094031-1-chenxiaosong.chenxiaosong@linux.dev/):
    - smb/server: fix return value of smb2_read()
    - smb/server: fix return value of smb2_notify()
    - smb/server: fix return value of smb2_query_dir()
    - smb/server: fix return value of smb2_ioctl()
    - smb/server: fix return value of smb2_oplock_break()
    - smb/server: update some misguided comment of smb2_0_server_cmds proc
  - [Patches applied to the ksmbd-for-next-next branch](https://git.samba.org/?p=ksmbd.git;a=shortlog;h=refs/heads/ksmbd-for-next-next):
    - smb: fix some warnings reported by scripts/checkpatch.pl
    - smb: do some cleanups
    - smb: move FILE_SYSTEM_SIZE_INFO to common/fscc.h
    - smb: move some duplicate struct definitions to common/fscc.h
    - smb: move list of FileSystemAttributes to common/fscc.h
    - smb: move SMB_NEGOTIATE_REQ to common/smb2pdu.h
    - smb: move some duplicate definitions to common/smb2pdu.h
    - smb: move create_durable_rsp_v2 to common/smb2pdu.h
    - smb: move create_durable_handle_reconnect_v2 to common/smb2pdu.h
    - smb: move create_durable_req_v2 to common/smb2pdu.h
    - smb: move MAX_CIFS_SMALL_BUFFER_SIZE to common/smbglob.h
    - smb/client: fix CAP_BULK_TRANSFER value
    - smb: move resume_key_ioctl_rsp to common/smb2pdu.h
    - smb: move copychunk definitions to common/smb2pdu.h
    - smb: move smb_sockaddr_in and smb_sockaddr_in6 to common/smb2pdu.h
    - smb: move SMB1_PROTO_NUMBER to common/smbglob.h
    - smb: move get_rfc1002_len() to common/smbglob.h
    - smb: move smb_version_values to common/smbglob.h
    - smb: rename common/cifsglob.h to common/smbglob.h
  - [[PATCH v7 0/2] smb: move duplicate definitions to common header file](https://lore.kernel.org/all/20251113133252.145867-1-chenxiaosong.chenxiaosong@linux.dev/):
    - smb: move FILE_SYSTEM_ATTRIBUTE_INFO to common/fscc.h
    - smb: move CREATE_DURABLE_RECONN to common/smb2pdu.h

# Test results

After applying the above patches to mainline, **no additional** failed test cases were observed in the test results.

The mainline version used for testing is `3a8660878839 Linux 6.18-rc1`.

[Test results of the mainline version](https://github.com/chenxiaosonggithub/tmp/tree/master/smb/test/20251113/mainline):

  - [xfstests test results](https://github.com/chenxiaosonggithub/tmp/blob/master/smb/test/20251113/mainline/xfstests-result.txt),
    detailed [xfstests test log](https://github.com/chenxiaosonggithub/tmp/blob/master/smb/test/20251113/mainline/xfstests-result-log.txt)
  - [smbtorture test results](https://github.com/chenxiaosonggithub/tmp/blob/master/smb/test/20251113/mainline/smbtorture-result.txt),
    detailed [smbtorture test log](https://github.com/chenxiaosonggithub/tmp/blob/master/smb/test/20251113/mainline/smbtorture-result-log.txt)

[Test results after applying the above patches](https://github.com/chenxiaosonggithub/tmp/tree/master/smb/test/20251113/patches_applied):

  - [xfstests test results](https://github.com/chenxiaosonggithub/tmp/blob/master/smb/test/20251113/patches_applied/xfstests-result.txt),
    detailed [xfstests test log](https://github.com/chenxiaosonggithub/tmp/blob/master/smb/test/20251113/patches_applied/xfstests-result-log.txt)
  - [smbtorture test results](https://github.com/chenxiaosonggithub/tmp/blob/master/smb/test/20251113/patches_applied/smbtorture-result.txt),
    detailed [smbtorture test log](https://github.com/chenxiaosonggithub/tmp/blob/master/smb/test/20251113/patches_applied/smbtorture-result-log.txt)

