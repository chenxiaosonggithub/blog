本文档翻译自`BTRFS documentation <https://btrfs.readthedocs.io/en/latest/>`_，大部分借助于ChatGPT翻译，仅作为我个人的参考，如果你想查阅，建议看英文文档，因为我不确定我记录的中文翻译是否完整和正确。

持续更新中。。。

BTRFS 是一个为 Linux 设计的现代写时复制（Copy on Write，COW）文件系统，旨在实现先进功能，同时重点关注容错性、修复以及简易管理。您可以在介绍中了解更多功能，或从下面的页面中选择。btrfs(8)、mkfs.btrfs(8) 等命令行工具的文档位于手册页面中。

这份文档仍在进行中，尚未完全迁移原始维基 https://btrfs.wiki.kernel.org 的所有内容至此。

介绍
============

BTRFS 是一个为 Linux 设计的现代写时复制（Copy on Write，COW）文件系统，旨在实现先进功能的同时，重点关注容错性、修复以及简易管理。其主要特点和优势包括：

*  不进行完整文件复制的快照功能
*  内置的卷管理，支持软件基础的 RAID 0、RAID 1、RAID 10 等
*  自我修复 - 数据和元数据的校验和，自动检测静默数据损坏

特性概览：

*  基于范围的文件存储
*  2的64次方字节 == 16 EiB：由于 Linux VFS 的实际限制为 8 EiB，故实际文件大小有限制
*  空间高效的小文件打包
*  空间高效的索引目录
*  动态的 inode 分配
*  可写快照、只读快照、子卷（分离的内部文件系统根）支持
*  数据和元数据的校验和（crc32c、xxhash、sha256、blake2b）
*  压缩（ZLIB、LZO、ZSTD）及其启发式方法
*  集成的多设备支持：

    * 文件分片（类似 RAID0）
    * 文件镜像（类似 RAID1，最多 4 份拷贝）
    * 文件分片+镜像（类似 RAID10）
    * 单和双奇偶性实现（类似 RAID5/6，实验性质，不适用于生产环境）

*  SSD/NVMe（闪存存储）感知性，用于报告可重复使用的空闲块和优化（例如，避免不必要的寻道优化，以及以簇为单位发送写操作）
*  背景扫描过程，用于查找并修复具有冗余拷贝的文件中的错误
*  在线文件系统碎片整理
*  离线文件系统检查
*  现有 ext2/3/4 和 reiserfs 文件系统的原地转换
*  种子设备支持。创建一个（只读）文件系统，作为为其他 Btrfs 文件系统提供模板。原始文件系统和设备被包括为新文件系统的只读起点。使用写时复制，所有修改都存储在不同的设备上；原始文件保持不变。
*  子卷感知的配额支持
*  子卷更改的发送/接收，高效的增量文件系统镜像和备份
*  批处理或带外去重（写入后发生，而非期间）
*  交换文件支持
*  树检查器，读后和写前的元数据验证
*  区域模式支持（适用于 SMR/ZBC/ZNS 的友好分配，在非区域化设备上进行模拟）
